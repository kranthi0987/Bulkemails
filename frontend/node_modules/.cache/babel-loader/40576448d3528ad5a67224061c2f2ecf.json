{"ast":null,"code":"var _jsxFileName = \"C:\\\\Workspace\\\\pycharmprojects\\\\Bulkemails\\\\frontend\\\\src\\\\views\\\\Base\\\\CollageMediaMessages\\\\CollageMediaMessages.js\";\nimport React, { Component } from 'react';\nimport { Badge, Button, Card, CardBody, CardFooter, CardHeader, Col, Collapse, DropdownItem, DropdownMenu, DropdownToggle, Fade, Form, FormGroup, FormText, FormFeedback, Input, InputGroup, InputGroupAddon, InputGroupButtonDropdown, InputGroupText, Label, Row } from 'reactstrap'; // Import React FilePond\n\nimport { FilePond, registerPlugin } from 'react-filepond'; // Import FilePond styles\n\nimport 'filepond/dist/filepond.min.css'; // Import the Image EXIF Orientation and Image Preview plugins\n// Note: These need to be installed separately\n\nimport FilePondPluginImageExifOrientation from 'filepond-plugin-image-exif-orientation';\nimport FilePondPluginImagePreview from 'filepond-plugin-image-preview';\nimport 'filepond-plugin-image-preview/dist/filepond-plugin-image-preview.css';\nimport toaster from \"toasted-notes\";\nimport \"toasted-notes/src/styles.css\";\nimport { BASEURL } from \"../../../Constants\";\nregisterPlugin(FilePondPluginImagePreview, FilePondPluginImageExifOrientation);\n\nclass CollageMediaMessages extends Component {\n  constructor(props) {\n    super(props);\n    this.toggle = this.toggle.bind(this);\n    this.toggleFade = this.toggleFade.bind(this);\n    this.state = {\n      collapse: true,\n      fadeIn: true,\n      timeout: 300\n    };\n    this.state = {\n      from_who: '9989015918',\n      to_who: '',\n      message_status: '',\n      message: '',\n      submitted: false,\n      loading: false,\n      error: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  toggle() {\n    this.setState({\n      collapse: !this.state.collapse\n    });\n  }\n\n  toggleFade() {\n    this.setState(prevState => {\n      return {\n        fadeIn: !prevState\n      };\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    this.setState({\n      submitted: true\n    });\n    const {\n      from_who = ['9989015918'],\n      to_who,\n      message_status,\n      message\n    } = this.state; // stop here if form is invalid\n\n    if (!(to_who && message)) {\n      return;\n    }\n\n    console.log(to_who, message);\n    this.setState({\n      loading: true\n    });\n    let url = 'http://127.0.0.1:8000/message/collagemediamessages/';\n    let formData = new FormData();\n    formData.append('from_who', '9989015918');\n    formData.append('phone', from_who);\n    formData.append('body', message);\n    formData.append('sent_status', 'true');\n    fetch(url, {\n      method: \"POST\",\n      headers: {},\n      body: formData\n    }).then(response => {\n      if (response.status === 201) {\n        console.log(response);\n        toaster.notify(\"Sucessfull message sent\", {\n          duration: 2000,\n          type: \"success\"\n        });\n        return response.json();\n      } else {\n        console.log(\"oh no!\", response.status === 404);\n      }\n    }).then(function (data) {\n      console.log('request succeeded with JSON response', data);\n    });\n  }\n\n  handleChange(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  render() {\n    const {\n      from_who,\n      to_who,\n      message_status,\n      submitted,\n      message\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"animated fadeIn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: \"12\",\n      md: \"12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(CardHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 33\n      }\n    }, \"Collage Media Message\"), \" Whatsapp\"), /*#__PURE__*/React.createElement(CardBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      action: \"\",\n      method: \"post\",\n      encType: \"multipart/form-data\",\n      className: \"form-horizontal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      row: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 45\n      }\n    }, \"From \")), /*#__PURE__*/React.createElement(Col, {\n      xs: \"12\",\n      md: \"9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"form-control-static\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 80\n      }\n    }, \"+91-9989015918\")))), /*#__PURE__*/React.createElement(FormGroup, {\n      row: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      htmlFor: \"text-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 45\n      }\n    }, \"Mobile Number\")), /*#__PURE__*/React.createElement(Col, {\n      xs: \"12\",\n      md: \"9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      id: \"text-input\",\n      name: \"to_who\",\n      value: to_who,\n      onChange: this.handleChange,\n      placeholder: \"Mobile number\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 45\n      }\n    }), submitted && !to_who && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"help-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 45\n      }\n    }, \"Mobilenumber is required\"), /*#__PURE__*/React.createElement(FormText, {\n      color: \"muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 45\n      }\n    }, \"Enter Mobile Number with Country Code\"))), /*#__PURE__*/React.createElement(FormGroup, {\n      row: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      htmlFor: \"textarea-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 45\n      }\n    }, \"Message\")), /*#__PURE__*/React.createElement(Col, {\n      xs: \"12\",\n      md: \"9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"textarea\",\n      name: \"message\",\n      id: \"textarea-input\",\n      rows: \"9\",\n      value: message,\n      onChange: this.handleChange,\n      placeholder: \"Message Content...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 45\n      }\n    }), submitted && !message && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"help-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 45\n      }\n    }, \"message is required\"))), /*#__PURE__*/React.createElement(FormGroup, {\n      row: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      htmlFor: \"file-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 45\n      }\n    }, \"Vcard \")), /*#__PURE__*/React.createElement(Col, {\n      xs: \"12\",\n      md: \"9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"file\",\n      id: \"file-input\",\n      name: \"file-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 45\n      }\n    }))), /*#__PURE__*/React.createElement(FormGroup, {\n      row: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      htmlFor: \"file-multiple-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 45\n      }\n    }, \"Multiple File input\")), /*#__PURE__*/React.createElement(Col, {\n      xs: \"12\",\n      md: \"9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(FilePond, {\n      allowMultiple: true,\n      maxFiles: 5,\n      server: BASEURL + 'mediaupload/fileupload/',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 45\n      }\n    }))))), /*#__PURE__*/React.createElement(CardFooter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      size: \"sm\",\n      color: \"primary\",\n      onClick: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-dot-circle-o\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 109\n      }\n    }), \" Submit\"), /*#__PURE__*/React.createElement(Button, {\n      type: \"reset\",\n      size: \"sm\",\n      color: \"danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-ban\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 79\n      }\n    }), \" Reset\"))))));\n  }\n\n}\n\nexport default CollageMediaMessages;","map":{"version":3,"sources":["C:/Workspace/pycharmprojects/Bulkemails/frontend/src/views/Base/CollageMediaMessages/CollageMediaMessages.js"],"names":["React","Component","Badge","Button","Card","CardBody","CardFooter","CardHeader","Col","Collapse","DropdownItem","DropdownMenu","DropdownToggle","Fade","Form","FormGroup","FormText","FormFeedback","Input","InputGroup","InputGroupAddon","InputGroupButtonDropdown","InputGroupText","Label","Row","FilePond","registerPlugin","FilePondPluginImageExifOrientation","FilePondPluginImagePreview","toaster","BASEURL","CollageMediaMessages","constructor","props","toggle","bind","toggleFade","state","collapse","fadeIn","timeout","from_who","to_who","message_status","message","submitted","loading","error","handleChange","handleSubmit","setState","prevState","e","preventDefault","console","log","url","formData","FormData","append","fetch","method","headers","body","then","response","status","notify","duration","type","json","data","name","value","target","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {\r\n    Badge,\r\n    Button,\r\n    Card,\r\n    CardBody,\r\n    CardFooter,\r\n    CardHeader,\r\n    Col,\r\n    Collapse,\r\n    DropdownItem,\r\n    DropdownMenu,\r\n    DropdownToggle,\r\n    Fade,\r\n    Form,\r\n    FormGroup,\r\n    FormText,\r\n    FormFeedback,\r\n    Input,\r\n    InputGroup,\r\n    InputGroupAddon,\r\n    InputGroupButtonDropdown,\r\n    InputGroupText,\r\n    Label,\r\n    Row,\r\n} from 'reactstrap';\r\n// Import React FilePond\r\nimport {FilePond, registerPlugin} from 'react-filepond';\r\n\r\n// Import FilePond styles\r\nimport 'filepond/dist/filepond.min.css';\r\n// Import the Image EXIF Orientation and Image Preview plugins\r\n// Note: These need to be installed separately\r\nimport FilePondPluginImageExifOrientation from 'filepond-plugin-image-exif-orientation';\r\nimport FilePondPluginImagePreview from 'filepond-plugin-image-preview';\r\nimport 'filepond-plugin-image-preview/dist/filepond-plugin-image-preview.css';\r\n\r\nimport toaster from \"toasted-notes\";\r\nimport \"toasted-notes/src/styles.css\";\r\nimport {BASEURL} from \"../../../Constants\";\r\n\r\nregisterPlugin(FilePondPluginImagePreview, FilePondPluginImageExifOrientation);\r\n\r\nclass CollageMediaMessages extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.toggle = this.toggle.bind(this);\r\n        this.toggleFade = this.toggleFade.bind(this);\r\n        this.state = {\r\n            collapse: true,\r\n            fadeIn: true,\r\n            timeout: 300\r\n        };\r\n        this.state = {\r\n            from_who: '9989015918',\r\n            to_who: '',\r\n            message_status: '',\r\n            message: '',\r\n            submitted: false,\r\n            loading: false,\r\n            error: ''\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    toggle() {\r\n        this.setState({collapse: !this.state.collapse});\r\n    }\r\n\r\n    toggleFade() {\r\n        this.setState((prevState) => {\r\n            return {fadeIn: !prevState}\r\n        });\r\n    }\r\n\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        this.setState({submitted: true});\r\n        const {from_who = ['9989015918'], to_who, message_status, message} = this.state;\r\n\r\n        // stop here if form is invalid\r\n        if (!(to_who && message)) {\r\n            return;\r\n        }\r\n        console.log(to_who, message);\r\n\r\n        this.setState({loading: true});\r\n\r\n        let url = 'http://127.0.0.1:8000/message/collagemediamessages/';\r\n\r\n\r\n        let formData = new FormData();\r\n        formData.append('from_who', '9989015918');\r\n        formData.append('phone', from_who);\r\n        formData.append('body', message);\r\n        formData.append('sent_status', 'true');\r\n\r\n        fetch(url, {\r\n            method: \"POST\",\r\n            headers: ({}),\r\n            body: formData\r\n        }).then(response => {\r\n            if (response.status === 201) {\r\n                console.log(response);\r\n                toaster.notify(\"Sucessfull message sent\", {\r\n                    duration: 2000, type: \"success\"\r\n                });\r\n                return response.json()\r\n            } else {\r\n                console.log(\"oh no!\", response.status === 404)\r\n            }\r\n        }).then(function (data) {\r\n            console.log('request succeeded with JSON response', data)\r\n        })\r\n    }\r\n\r\n    handleChange(e) {\r\n        const {name, value} = e.target;\r\n        this.setState({[name]: value});\r\n    }\r\n\r\n    render() {\r\n        const {from_who, to_who, message_status, submitted, message} = this.state;\r\n        return (\r\n            <div className=\"animated fadeIn\">\r\n                <Row>\r\n                    <Col xs=\"12\" md=\"12\">\r\n                        <Card>\r\n                            <CardHeader>\r\n                                <strong>Collage Media Message</strong> Whatsapp\r\n                            </CardHeader>\r\n                            <CardBody>\r\n                                <Form action=\"\" method=\"post\" encType=\"multipart/form-data\" className=\"form-horizontal\">\r\n                                    <FormGroup row>\r\n                                        <Col md=\"3\">\r\n                                            <Label>From </Label>\r\n                                        </Col>\r\n                                        <Col xs=\"12\" md=\"9\">\r\n                                            <p className=\"form-control-static\"><strong>+91-9989015918</strong></p>\r\n                                        </Col>\r\n                                    </FormGroup>\r\n                                    <FormGroup row>\r\n                                        <Col md=\"3\">\r\n                                            <Label htmlFor=\"text-input\">Mobile Number</Label>\r\n                                        </Col>\r\n                                        <Col xs=\"12\" md=\"9\">\r\n                                            <Input type=\"text\" id=\"text-input\" name=\"to_who\" value={to_who}\r\n                                                   onChange={this.handleChange}\r\n                                                   placeholder=\"Mobile number\"/>\r\n                                            {submitted && !to_who &&\r\n                                            <div className=\"help-block\">Mobilenumber is required</div>\r\n                                            }\r\n                                            <FormText color=\"muted\">Enter Mobile Number with Country Code</FormText>\r\n                                        </Col>\r\n                                    </FormGroup>\r\n                                    <FormGroup row>\r\n                                        <Col md=\"3\">\r\n                                            <Label htmlFor=\"textarea-input\">Message</Label>\r\n                                        </Col>\r\n                                        <Col xs=\"12\" md=\"9\">\r\n                                            <Input type=\"textarea\" name=\"message\" id=\"textarea-input\" rows=\"9\"\r\n                                                   value={message} onChange={this.handleChange}\r\n                                                   placeholder=\"Message Content...\"/>\r\n                                            {submitted && !message &&\r\n                                            <div className=\"help-block\">message is required</div>\r\n                                            }\r\n                                        </Col>\r\n                                    </FormGroup>\r\n                                    <FormGroup row>\r\n                                        <Col md=\"3\">\r\n                                            <Label htmlFor=\"file-input\">Vcard </Label>\r\n                                        </Col>\r\n                                        <Col xs=\"12\" md=\"9\">\r\n                                            <Input type=\"file\" id=\"file-input\" name=\"file-input\"/>\r\n                                        </Col>\r\n                                    </FormGroup>\r\n                                    <FormGroup row>\r\n                                        <Col md=\"3\">\r\n                                            <Label htmlFor=\"file-multiple-input\">Multiple File input</Label>\r\n                                        </Col>\r\n                                        <Col xs=\"12\" md=\"9\">\r\n                                            {/*<Input type=\"file\" id=\"file-multiple-input\" name=\"file-multiple-input\"*/}\r\n                                            {/*       multiple/>*/}\r\n                                            <FilePond allowMultiple={true} maxFiles={5}\r\n                                                      server={BASEURL + 'mediaupload/fileupload/'}/>\r\n                                        </Col>\r\n                                    </FormGroup>\r\n                                </Form>\r\n                            </CardBody>\r\n                            <CardFooter>\r\n                                <Button type=\"submit\" size=\"sm\" color=\"primary\" onClick={this.handleSubmit}><i\r\n                                    className=\"fa fa-dot-circle-o\"></i> Submit</Button>\r\n                                <Button type=\"reset\" size=\"sm\" color=\"danger\"><i\r\n                                    className=\"fa fa-ban\"></i> Reset</Button>\r\n                            </CardFooter>\r\n                        </Card>\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n        )\r\n            ;\r\n    }\r\n}\r\n\r\nexport default CollageMediaMessages;\r\n"]},"metadata":{},"sourceType":"module"}